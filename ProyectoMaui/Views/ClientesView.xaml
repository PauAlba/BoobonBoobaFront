<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:ProyectoMaui.Views"
             xmlns:viewModels="clr-namespace:ProyectoMaui.ViewModels"
             x:Class="ProyectoMaui.Views.ClientesView"
             BackgroundColor="#FBF0FF">
<ScrollView>

       <VerticalStackLayout Padding="30" Spacing="20">

        <!-- Encabezado personalizado -->
        <views:EncabezadoView />

        <!-- TÍTULO -->
        <Label Text="Clientes"
               FontSize="24"
               FontAttributes="Bold"
               TextColor="Black" />

                <Entry Placeholder="Nombre"
                       Text="{Binding NuevoCliente.Nombre}" />

                <Entry Placeholder="Usuario"
                       Text="{Binding NuevoCliente.NombreUsuario}" />

                <Entry Placeholder="Contraseña"
                       Text="{Binding NuevoCliente.Contrasena}"
                       IsPassword="True" />

                <Entry Placeholder="Teléfono"
                       Text="{Binding NuevoCliente.Telefono}" />

                <Entry Placeholder="Correo electrónico"
                       Text="{Binding NuevoCliente.Email}" />

                <Button Text="Registrar Cliente"
                        Command="{Binding RegistrarCommand}" />
        <Button Text="Cargar Todos los Clientes"
                Command="{Binding CargarTodosCommand}" />

        <CollectionView ItemsSource="{Binding Clientes}"
                        Margin="0,20,0,0">
               <CollectionView.ItemTemplate>
                      <DataTemplate>
                             <Frame BorderColor="#CCC"
                                    BackgroundColor="White"
                                    Padding="10"
                                    Margin="0,5">
                                    <VerticalStackLayout Spacing="5">
                                           <Label Text="{Binding Nombre, StringFormat='Nombre: {0}'}" />
                                           <Label Text="{Binding NombreUsuario, StringFormat='Usuario: {0}'}" />
                                           <Label Text="{Binding Email, StringFormat='Email: {0}'}" />
                                    </VerticalStackLayout>
                             </Frame>
                      </DataTemplate>
               </CollectionView.ItemTemplate>
        </CollectionView>
           
        <Entry Placeholder="ID de cliente"
               Text="{Binding ClienteIdBuscar}" />

        <Button Text="Buscar Cliente"
                Command="{Binding BuscarCommand}" />

        <!-- Mostrar los datos encontrados -->
        <Label Text="Resultado del GET:"
               FontAttributes="Bold"
               Margin="0,10,0,0" />

        <Label Text="{Binding ClienteEncontrado.Nombre, StringFormat='Nombre: {0}'}" />
        <Label Text="{Binding ClienteEncontrado.Email, StringFormat='Email: {0}'}" />
        <Label Text="{Binding ClienteEncontrado.Telefono, StringFormat='Teléfono: {0}'}" />
    </VerticalStackLayout>
</ScrollView>
</ContentPage>

<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:ProyectoMaui.Views"
             x:Class="ProyectoMaui.Views.PedidosView"
             BackgroundColor="#FBF0FF">

    <ScrollView>
        <VerticalStackLayout Padding="30" Spacing="20">

            <views:EncabezadoView />

            <Label Text="Pedidos"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="Black" />

            <!--formulario-->
            <Label Text="Ingresa el ID del usuario" />
            <Entry x:Name="usuarioEntry" Keyboard="Numeric" Placeholder="Usuario" />

            <Label Text="Ingresa el ID del platillo" />
            <Entry x:Name="platilloEntry" Keyboard="Numeric" Placeholder="Platillo" />

            <Button Text="Crear Pedido"
                    BackgroundColor="#451C54"
                    TextColor="White"
                    Clicked="OnCrearPedidoClicked" />

            <!--lista de pepeppedidos-->
            <CollectionView ItemsSource="{Binding Pedidos}"
                            Margin="0,20,0,0"
                            HeightRequest="500">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BackgroundColor="White"
                               BorderColor="#DDD"
                               CornerRadius="12"
                               Padding="10"
                               Margin="0,5">
                            <VerticalStackLayout Spacing="5">
                                <Label Text="{Binding Id, StringFormat='ID: {0}'}" FontAttributes="Bold" />
                                <Label Text="{Binding Fecha, StringFormat='Fecha: {0:dd/MM/yyyy HH:mm}'}" />
                                <Label Text="{Binding CompletadoTexto, StringFormat='Completado: {0}'}" />
                                <Label Text="{Binding UsuarioId, StringFormat='Usuario: {0}'}" />
                                <Label Text="{Binding PlatilloId, StringFormat='Platillo: {0}'}" />
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
